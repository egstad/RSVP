<template>
  <Grid>
    <Column v-for="n in 100">
      <Observer :onEnter="onEnter" :onLeave="onLeave">
        <div
          class="child"
          style="
            font-size: 5vw;
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.05em;
          "
        >
          {{ n }}
        </div>
      </Observer>
    </Column>
  </Grid>
</template>

<script setup>
import PageSetup from "~/composables/PageSetup";
import pageTransitionDefault from "~/assets/scripts/pages/transitionDefault";
import gsap from "gsap";

PageSetup({
  seoMeta: { title: "Viewport" },
});

definePageMeta({
  pageTransition: pageTransitionDefault(),
});

// observer
const onEnter = (el) => {
  if (!el) return;
  const child = el.querySelector(".child");
  if (!child) return;
  gsap.to(child, {
    ease: "expo.out",
    duration: 2,
    opacity: 1,
    rotate: 0,
  });
};

const onLeave = (el) => {
  if (!el) return;
  const child = el.querySelector(".child");
  if (!child) return;
  gsap.to(child, {
    ease: "expo.out",
    duration: 2,
    rotate: 360,
  });
};
</script>
